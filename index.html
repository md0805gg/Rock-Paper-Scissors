<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    
  </body>
  <script>

    let gameAnswers = [
      'rock',
      'paper',
      'scissors'
    ]
    
    let playerScore;
    let computerScore;

    function getComputerChoice (){
      let randomIndex = (Math.floor(Math.random() * gameAnswers.length));
      return gameAnswers[randomIndex]
    }
    
    function playRound(playerSelection,computerSelection){
      playerSelection = prompt('Select: Rock, Paper or Scissors','').toLowerCase();

      if (playerSelection !== 'rock' && playerSelection !== 'scissors' && playerSelection !== 'paper') {
        alert('Sorry, but it has to be either "Rock", "Paper" or "Scissors"! Please provide your answer once again.');
        playRound();
      }

      computerSelection = getComputerChoice();
      let playerSelectionCapitalized = playerSelection.charAt(0).toUpperCase() + playerSelection.slice(1);
      let computerSelectionCapitalized = computerSelection.charAt(0).toUpperCase() + computerSelection.slice(1);

      if ((playerScore === undefined || playerScore === 0) &&
          (computerScore === undefined || computerScore === 0)
      ) {
        playerScore = 0;
        computerScore = 0;
      } 
      console.log(playerScore);
      console.log(computerScore);

      if (
        (playerSelection === 'rock' && computerSelection === 'scissors') ||
        (playerSelection === 'paper' && computerSelection === 'rock') ||
        (playerSelection === 'scissors' && computerSelection === 'paper')
          ){
            playerScore++;
            console.log(`You won! ${playerSelectionCapitalized} beats ${computerSelectionCapitalized}! Current score: Player:${playerScore} Computer: ${computerScore}`)
          } else if (
            (playerSelection === 'rock' && computerSelection === 'paper') ||
            (playerSelection === 'paper' && computerSelection === 'scissors') ||
            (playerSelection === 'scissors' && computerSelection === 'rock') 
          ){
            computerScore++;
            console.log(`You lose! ${computerSelectionCapitalized} beats ${playerSelectionCapitalized}! Current score: Player:${playerScore} Computer: ${computerScore}`)
          } else {
            playerScore++;
            computerScore++;
            console.log(`It\'s a tie! ${playerSelectionCapitalized} against ${computerSelectionCapitalized}! Current score: Player:${playerScore} Computer: ${computerScore}`)
          }
    }

    function game() {
      console.log('welcome msg');
      for (;;) {
       playRound();
       if ((((playerScore >= 5) || (computerScore >= 5)) && (playerScore === computerScore))) {
        console.log ('Game\'s over. It\'s a tie! Both you and Computer won. Contratulations to you both.');
        break;
       }       
       else if (((playerScore >= 5) || (computerScore >= 5)) && (playerScore > computerScore)) {
        console.log ('Game\'s over. You won! Contratulations!');
        break;
       }
       else if (((playerScore >= 5) || (computerScore >= 5)) && (playerScore < computerScore)) {
        console.log ('Game\'s over. You lost! You will get him next time!');
        break;
      }
    }
  }

    //Required improvements:
    // FIX IF STATEMENT FOR WRONG ANSWER; RE-READ 'AND' AND 'OR' INFO, AS I DONT FUKEN REMEMBER ANYTHING ABOUT IT LOL
    //remember to capitalise first letter of return
    //What if player puts something else than rock, paper or scissors?
    //make gameAnswers local to the getComputerChoice function

    //Design of the game function:
    // at the beginning of the game, console.log some kind of introduction
    // add two function variables: playerScore and Computer score initailized at 0
    //loop another function, that adds 1 to player of computer score, until one of the two reaches 5; take TIE into consideration
    //report a winner
    //ask the player if you want to play another game, possible answers: y,n
    //n - console log something
    //y - reset the counter and play another round
  </script>
</html>

<!--
My questions  / thoughts:
1. write a function
2. try to understand order in which above function would be run
3. try to understand best scope choice
4. variable inside or outside of the function?

Rock beats scissors
Scissors beat paper
Paper beats Rock

scissors 

x2 because of the other way around

tie
r r
s s
p p

you win:
p:r

r:r
r:p
r:s
p:r
p:p
p:s
s:r
s:p
s:s


w: r:s, p:r, s:p
l: r:p, p:s, s:r
t: r:r, p:p, s:s

function playRound(playerSelection, computerSelection) {
  // your code here!
}
 
const playerSelection = "rock";
const computerSelection = getComputerChoice();
console.log(playRound(playerSelection, computerSelection));

-->