<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    
  </body>
  <script>
    
    let playerScore;
    let computerScore;

    function getComputerChoice (){
      let gameAnswers = [
      'rock',
      'paper',
      'scissors'
    ]
      let randomIndex = (Math.floor(Math.random() * gameAnswers.length));
      return gameAnswers[randomIndex]
    }

    function getPlayerChoice() {
     let string = prompt('Please select: Rock, Paper or Scissors','');
     if (string === null || string === undefined || string === '') {
      alert('You didn\'t provide any answer');
      getPlayerChoice();
     } else {
      return string.toLowerCase();
     }
    }
   
    function playRound(playerSelection,computerSelection){
      if (playerSelection !== 'rock' && playerSelection !== 'scissors' && playerSelection !== 'paper') {
        alert('Sorry, but it has to be either "Rock", "Paper" or "Scissors"! Please provide your answer once again.');
        playerSelection;
      } else {
        let playerSelectionCapitalized = playerSelection.charAt(0).toUpperCase() + playerSelection.slice(1);
        let computerSelectionCapitalized = computerSelection.charAt(0).toUpperCase() + computerSelection.slice(1);
        if ((playerScore === undefined || playerScore === 0) &&
            (computerScore === undefined || computerScore === 0)
        ) {
          playerScore = 0;
          computerScore = 0;
        } 

        if (
          (playerSelection === 'rock' && computerSelection === 'scissors') ||
          (playerSelection === 'paper' && computerSelection === 'rock') ||
          (playerSelection === 'scissors' && computerSelection === 'paper')
            ){
              playerScore++;
              console.log(`You won! ${playerSelectionCapitalized} beats ${computerSelectionCapitalized}! Current score: Player:${playerScore} Computer: ${computerScore}`)
            } else if (
              (playerSelection === 'rock' && computerSelection === 'paper') ||
              (playerSelection === 'paper' && computerSelection === 'scissors') ||
              (playerSelection === 'scissors' && computerSelection === 'rock') 
            ){
              computerScore++;
              console.log(`You lose! ${computerSelectionCapitalized} beats ${playerSelectionCapitalized}! Current score: Player:${playerScore} Computer: ${computerScore}`)
            } else {
              playerScore++;
              computerScore++;
              console.log(`It\'s a tie! ${playerSelectionCapitalized} against ${computerSelectionCapitalized}! Current score: Player:${playerScore} Computer: ${computerScore}`)
            }
          }
    }
    
  </script>
</html>
